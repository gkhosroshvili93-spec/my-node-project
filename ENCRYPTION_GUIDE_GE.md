# рЃЏрЃћрЃАрЃўрЃ»рЃћрЃЉрЃўрЃА рЃЊрЃљрЃерЃўрЃцрЃЋрЃарЃўрЃА рЃўрЃюрЃАрЃбрЃарЃБрЃЦрЃфрЃўрЃљ (Encryption Guide)

рЃћрЃА рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃў рЃљрЃдрЃгрЃћрЃарЃА, рЃЌрЃБ рЃарЃЮрЃњрЃЮрЃа рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА рЃЕрЃљрЃЌрЃўрЃА рЃЏрЃћрЃАрЃўрЃ»рЃћрЃЉрЃўрЃА рЃЊрЃљрЃерЃўрЃцрЃЋрЃарЃљ рЃЕрЃЋрЃћрЃюрЃА рЃАрЃўрЃАрЃбрЃћрЃЏрЃљрЃерЃў.

## ­Ъћњ рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮрЃћрЃЉрЃўрЃА рЃбрЃћрЃЦрЃюрЃЮрЃџрЃЮрЃњрЃўрЃљ

рЃЕрЃЋрЃћрЃю рЃЋрЃўрЃДрЃћрЃюрЃћрЃЉрЃЌ **AES-256-CBC** рЃљрЃџрЃњрЃЮрЃарЃўрЃЌрЃЏрЃА, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃљрЃарЃўрЃА рЃўрЃюрЃЊрЃБрЃАрЃбрЃарЃўрЃБрЃџрЃў рЃАрЃбрЃљрЃюрЃЊрЃљрЃарЃбрЃў рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃЌрЃљ рЃЊрЃљрЃерЃўрЃцрЃЋрЃарЃўрЃАрЃЌрЃЋрЃўрЃА.

- **рЃљрЃџрЃњрЃЮрЃарЃўрЃЌрЃЏрЃў:** AES-256-CBC
- **рЃЉрЃўрЃЉрЃџрЃўрЃЮрЃЌрЃћрЃЎрЃљ:** Node.js `crypto` рЃЏрЃЮрЃЊрЃБрЃџрЃў
- **рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃўрЃА рЃАрЃўрЃњрЃарЃФрЃћ:** 32 рЃЉрЃљрЃўрЃбрЃў (256 рЃЉрЃўрЃбрЃў)
- **IV (Initialization Vector):** 16 рЃЉрЃљрЃўрЃбрЃў (рЃБрЃюрЃўрЃЎрЃљрЃџрЃБрЃарЃў рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџрЃў рЃЏрЃћрЃАрЃўрЃ»рЃўрЃАрЃЌрЃЋрЃўрЃА)

## ­ЪЏа рЃарЃЮрЃњрЃЮрЃа рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА?

### 1. рЃЊрЃљрЃерЃўрЃцрЃЋрЃарЃљ (Encryption)

рЃарЃЮрЃЊрЃћрЃАрЃљрЃф рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃў рЃљрЃњрЃќрЃљрЃЋрЃюрЃўрЃА рЃЏрЃћрЃАрЃўрЃ»рЃА:

1.  рЃАрЃћрЃарЃЋрЃћрЃарЃў рЃљрЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃА рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃўрЃЌ **IV**-рЃА (16 рЃЉрЃљрЃўрЃбрЃў).
2.  рЃЏрЃћрЃАрЃўрЃ»рЃўрЃА рЃбрЃћрЃЦрЃАрЃбрЃў рЃўрЃерЃўрЃцрЃарЃћрЃЉрЃљ **AES-256** рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃўрЃЌ рЃЊрЃљ рЃљрЃЏ IV-рЃўрЃЌ.
3.  рЃЉрЃљрЃќрЃљрЃерЃў (`chat.json`) рЃўрЃюрЃљрЃ«рЃћрЃЉрЃљ рЃерЃћрЃЏрЃЊрЃћрЃњрЃў рЃцрЃЮрЃарЃЏрЃљрЃбрЃўрЃЌ: `IV:EncryptedText` (рЃ░рЃћрЃЦрЃАрЃљрЃЊрЃћрЃфрЃўрЃЏрЃљрЃџрЃБрЃа рЃцрЃЮрЃарЃЏрЃљрЃбрЃерЃў).

**рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃў рЃЉрЃљрЃќрЃљрЃерЃў:**

```json
{
  "sender": "user@gmail.com",
  "message": "a3f1...e4:9b2c...f1a" // рЃЋрЃћрЃарЃљрЃЋрЃўрЃю рЃгрЃљрЃўрЃЎрЃўрЃЌрЃ«рЃљрЃЋрЃА
}
```

### 2. рЃњрЃљрЃерЃўрЃцрЃЋрЃарЃљ (Decryption)

рЃарЃЮрЃЊрЃћрЃАрЃљрЃф рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃў рЃ«рЃАрЃюрЃўрЃА рЃЕрЃљрЃЌрЃА:

1.  рЃАрЃћрЃарЃЋрЃћрЃарЃў рЃЎрЃўрЃЌрЃ«рЃБрЃџрЃЮрЃЉрЃА `chat.json`-рЃА.
2.  рЃДрЃЮрЃцрЃА рЃерЃћрЃюрЃљрЃ«рЃБрЃџ рЃбрЃћрЃЦрЃАрЃбрЃА рЃЮрЃа рЃюрЃљрЃгрЃўрЃџрЃљрЃЊ: **IV** рЃЊрЃљ **рЃЊрЃљрЃерЃўрЃцрЃарЃБрЃџрЃў рЃбрЃћрЃЦрЃАрЃбрЃў**.
3.  рЃўрЃДрЃћрЃюрЃћрЃЉрЃА рЃАрЃљрЃўрЃЊрЃБрЃЏрЃџрЃЮ рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃћрЃА рЃЏрЃћрЃАрЃўрЃ»рЃўрЃА рЃњрЃљрЃАрЃљрЃерЃўрЃцрЃарЃљрЃЊ.
4.  рЃАрЃљрЃўрЃбрЃќрЃћ (`chat.ejs`) рЃБрЃЉрЃарЃБрЃюрЃћрЃЉрЃА рЃБрЃЎрЃЋрЃћ рЃЎрЃўрЃЌрЃ«рЃЋрЃљрЃЊ рЃбрЃћрЃЦрЃАрЃбрЃА.

## ­ЪћЉ рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃўрЃА рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ

рЃАрЃћрЃарЃЋрЃћрЃарЃўрЃА рЃЎрЃЮрЃЊрЃерЃў (`server.js`) рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃБрЃџрЃўрЃљ рЃЊрЃљрЃфрЃБрЃџрЃў рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃўрЃА рЃњрЃћрЃюрЃћрЃарЃљрЃфрЃўрЃљ:

```javascript
const ENCRYPTION_KEY = crypto.scryptSync(
  "my-super-secret-password-123",
  "salt",
  32
);
```

> **рЃДрЃБрЃарЃљрЃЊрЃдрЃћрЃЉрЃљ:** рЃарЃћрЃљрЃџрЃБрЃа рЃърЃарЃЮрЃЊрЃБрЃЦрЃфрЃўрЃљрЃерЃў рЃћрЃА рЃърЃљрЃарЃЮрЃџрЃў (`my-super-secret-password-123`) рЃБрЃюрЃЊрЃљ рЃўрЃДрЃЮрЃА рЃерЃћрЃюрЃљрЃ«рЃБрЃџрЃў рЃњрЃљрЃарЃћрЃЏрЃЮрЃА рЃфрЃЋрЃџрЃљрЃЊрЃћрЃЉрЃерЃў (.env) рЃЊрЃљ рЃљрЃарЃљ рЃърЃўрЃарЃЊрЃљрЃърЃўрЃа рЃЎрЃЮрЃЊрЃерЃў.

## РЮЊ рЃ«рЃерЃўрЃарЃљрЃЊ рЃЊрЃљрЃАрЃЏрЃБрЃџрЃў рЃЎрЃўрЃЌрЃ«рЃћрЃЉрЃў

**рЃерЃћрЃЏрЃўрЃФрЃџрЃўрЃљ рЃгрЃљрЃЋрЃўрЃЎрЃўрЃЌрЃ«рЃЮ `chat.json` рЃцрЃљрЃўрЃџрЃў?**
рЃљрЃарЃљ. рЃЌрЃБ рЃцрЃљрЃўрЃџрЃА рЃбрЃћрЃЦрЃАрЃарЃБ рЃарЃћрЃЊрЃљрЃЦрЃбрЃЮрЃарЃерЃў рЃњрЃљрЃ«рЃАрЃюрЃўрЃЌ, рЃЏрЃћрЃАрЃўрЃ»рЃћрЃЉрЃўрЃА рЃљрЃЊрЃњрЃўрЃџрЃљрЃА рЃЊрЃљрЃўрЃюрЃљрЃ«рЃљрЃЋрЃЌ рЃњрЃљрЃБрЃњрЃћрЃЉрЃљрЃа рЃАрЃўрЃЏрЃЉрЃЮрЃџрЃћрЃЉрЃА/рЃЎрЃЮрЃЊрЃћрЃЉрЃА.

**рЃарЃЮрЃњрЃЮрЃа рЃљрЃдрЃЋрЃљрЃЊрЃњрЃўрЃюрЃЮ рЃЏрЃћрЃАрЃўрЃ»рЃћрЃЉрЃў рЃЌрЃБ рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃў рЃЊрЃљрЃЋрЃЎрЃљрЃарЃњрЃћ?**
рЃЋрЃћрЃа рЃљрЃдрЃљрЃЊрЃњрЃћрЃюрЃЌ. рЃЌрЃБ `server.js`-рЃерЃў рЃерЃћрЃфрЃЋрЃџрЃўрЃЌ `ENCRYPTION_KEY`-рЃА рЃљрЃю `salt`-рЃА, рЃФрЃЋрЃћрЃџрЃў рЃЏрЃћрЃАрЃўрЃ»рЃћрЃЉрЃўрЃА рЃњрЃљрЃерЃўрЃцрЃЋрЃарЃљ рЃерЃћрЃБрЃФрЃџрЃћрЃЉрЃћрЃџрЃў рЃњрЃљрЃ«рЃЊрЃћрЃЉрЃљ.
